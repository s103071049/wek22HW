{"version":3,"sources":["utils.js","WebAPI.js","contexts.js","pages/LoginPage/LoginPage.js","pages/HomePage/HomePage.js","pages/SinglePage/SinglePage.js","pages/AddPost/AddPost.js","pages/About/About.js","pages/Register/Register.js","components/Header/Header.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","authorization","then","res","json","AuthContext","createContext","Wrapper","styled","form","Item","div","LoginButton","button","ErrorMessage","LoginPage","setUser","useContext","useState","username","setUsername","password","setPassword","errorMessage","setErrorMessage","navigate","useNavigate","onSubmit","e","preventDefault","method","body","JSON","stringify","login","ok","message","data","value","onChange","target","type","Root","PostContainer","PostTitle","Link","PostDate","Pages","Page","span","Post","post","to","id","title","Date","createdAt","toLocaleDateString","HomePage","page","setPage","totalPage","setTotalPage","posts","setPosts","offset","useEffect","Math","ceil","length","slice","map","onClick","Title","Content","SinglePage","params","useParams","setPost","SubmitButton","AddPost","setTitle","content","setContent","addPost","style","width","height","About","Register","nickname","setNickname","register","HeaderContainer","Brand","NavbarList","Nav","props","$active","LeftContainer","Header","location","useLocation","user","pathname","App","Provider","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b6f5c9f.chunk.js","sourcesContent":["const TOKEN_NAME = \"token\";\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token);\r\n};\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME);\r\n};\r\n","import { getAuthToken } from \"./utils\";\r\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\r\nexport const getPosts = () => {\r\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\nexport const getPost = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getMe = () => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addPost = (title, content) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body: content,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const register = (username, nickname, password) => {\r\n  return fetch(`${BASE_URL}/register`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n","import { createContext } from \"react\";\r\nexport const AuthContext = createContext(null);\r\n","import React, { useState, useContext } from \"react\";\r\nimport { setAuthToken } from \"../../utils\";\r\nimport { login, getMe } from \"../../WebAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport styled from \"styled-components\";\r\nconst Wrapper = styled.form`\r\n  width: 40%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #333;\r\n  padding: 12px;\r\n  margin-top: 24px;\r\n  flex-direction: column;\r\n`;\r\nconst Item = styled.div`\r\n  padding: 12px;\r\n`;\r\nconst LoginButton = styled.button`\r\n  background: #3m3m3m;\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n`;\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\nexport default function LoginPage() {\r\n  const { setUser } = useContext(AuthContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(\"\");\r\n    login(username, password).then((res) => {\r\n      if (res.ok === 0) {\r\n        return setErrorMessage(res.message);\r\n      }\r\n      setAuthToken(res.token);\r\n      getMe().then((res) => {\r\n        if (res.ok !== 1) {\r\n          setAuthToken(null);\r\n          return setErrorMessage(\"系統處理異常，請請稍後再嘗試\");\r\n        }\r\n        setUser(res.data);\r\n        navigate(\"/\");\r\n      });\r\n    });\r\n  };\r\n  return (\r\n    <Wrapper onSubmit={handleSubmit}>\r\n      <Item>\r\n        username:{\" \"}\r\n        <input value={username} onChange={(e) => setUsername(e.target.value)} />\r\n      </Item>\r\n      <Item>\r\n        password:{\" \"}\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n      </Item>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      <LoginButton>登入</LoginButton>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getPosts } from \"../../WebAPI\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nconst Root = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n`;\r\nconst PostContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n`;\r\nconst PostTitle = styled(Link)`\r\n  font-size: 16px;\r\n  color: black;\r\n  text-decoration: none;\r\n`;\r\nconst PostDate = styled.div`\r\n  color: rgba(0, 0, 0.8);\r\n`;\r\nconst Pages = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding-top: 12px;\r\n`;\r\nconst Page = styled.span`\r\n  padding: 6px;\r\n`;\r\nfunction Post({ post }) {\r\n  return (\r\n    <PostContainer>\r\n      <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\r\n      <PostDate>{new Date(post.createdAt).toLocaleDateString()}</PostDate>\r\n    </PostContainer>\r\n  );\r\n}\r\nPost.propTypes = {\r\n  post: PropTypes.object,\r\n};\r\nexport default function HomePage() {\r\n  const limit = 5;\r\n  const [page, setPage] = useState(1);\r\n  const [totalPage, setTotalPage] = useState(1);\r\n  const [posts, setPosts] = useState([]);\r\n  let offset = (page - 1) * limit;\r\n  useEffect(() => {\r\n    getPosts().then((posts) => {\r\n      setPosts(posts);\r\n      setTotalPage(Math.ceil(posts.length / limit));\r\n    });\r\n  }, []);\r\n  return (\r\n    <Root>\r\n      {posts.slice(offset, offset + limit).map((post) => (\r\n        <Post post={post} key={post.id} />\r\n      ))}\r\n      <Pages>\r\n        {page !== 1 && (\r\n          <Page\r\n            onClick={(e) => {\r\n              setPage(1);\r\n            }}\r\n          >\r\n            最前頁\r\n          </Page>\r\n        )}\r\n        {page !== 1 && (\r\n          <Page\r\n            onClick={(e) => {\r\n              setPage(page - 1);\r\n            }}\r\n          >\r\n            {`<`}\r\n          </Page>\r\n        )}\r\n        <Page>{page}</Page>\r\n        {page !== totalPage && (\r\n          <Page\r\n            onClick={(e) => {\r\n              setPage(page + 1);\r\n            }}\r\n          >\r\n            {`>`}\r\n          </Page>\r\n        )}\r\n        {page !== totalPage && (\r\n          <Page\r\n            onClick={(e) => {\r\n              setPage(totalPage);\r\n            }}\r\n          >\r\n            最末頁\r\n          </Page>\r\n        )}\r\n      </Pages>\r\n    </Root>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getPost } from \"../../WebAPI\";\r\nimport { Link, useLocation, useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding: 12px;\r\n  margin: 0 auto;\r\n  width: 80%;\r\n`;\r\nconst Title = styled.div`\r\n  font-size: 24px;\r\n`;\r\nconst Content = styled.div`\r\n  padding: 12px;\r\n  line-height: 1.5em;\r\n  white-space: break-spaces;\r\n`;\r\n\r\nexport default function SinglePage() {\r\n  let params = useParams();\r\n  const [post, setPost] = useState(\"\");\r\n  useEffect(() => {\r\n    getPost(params.id).then((posts) => setPost(posts));\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        {post && <Title>{post[0].title}</Title>}\r\n        {post && <Content>{post[0].body}</Content>}\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { getAuthToken, setAuthToken } from \"../../utils\";\r\nimport { addPost } from \"../../WebAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport styled from \"styled-components\";\r\nconst Wrapper = styled.form`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  padding: 12px;\r\n`;\r\nconst Item = styled.div`\r\n  padding: 12px;\r\n`;\r\nconst SubmitButton = styled.button`\r\n  background: white;\r\n  border: 1px solid gray;\r\n  padding: 12px;\r\n  width: 80px;\r\n  cursor: pointer;\r\n`;\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n  font-size: 24px;\r\n`;\r\nexport default function AddPost() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(\"\");\r\n    addPost(title, content).then((res) => {\r\n      if (res.ok === 0) {\r\n        return setErrorMessage(res.message);\r\n      }\r\n      navigate(\"/\");\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Wrapper onSubmit={handleSubmit}>\r\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n        輸入文章標題：\r\n        <Item>\r\n          <input\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={(e) => {\r\n              setTitle(e.target.value);\r\n            }}\r\n          />\r\n        </Item>\r\n        輸入文章內容：\r\n        <Item>\r\n          <textarea\r\n            style={{ width: \"500px\", height: \"400px\" }}\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n        </Item>\r\n        <SubmitButton>提交</SubmitButton>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nconst Wrapper = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  white-space: pre;\r\n  margin-top: 24px;\r\n`;\r\nexport default function About() {\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        {`嗨嗨，\r\n        這裡是被 react final project耽誤的作業。\r\n        我的目標是在一邊準備求職，一邊把作業與 redux 搞定。\r\n        自己還有好多不足，這樣真的沒有問題麻？不過，煩惱這麼多好像也沒有甚麼幫助。只要心態正確剩下的就只是時間問題，所以繼續努力。`}\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { setAuthToken } from \"../../utils\";\r\nimport { register, getMe } from \"../../WebAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport styled from \"styled-components\";\r\nconst Wrapper = styled.form`\r\n  width: 40%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #333;\r\n  padding: 12px;\r\n  margin-top: 24px;\r\n  flex-direction: column;\r\n`;\r\nconst Item = styled.div`\r\n  padding: 12px;\r\n`;\r\nconst LoginButton = styled.button`\r\n  background: #3m3m3m;\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n`;\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\nexport default function Register() {\r\n  const { setUser } = useContext(AuthContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(\"\");\r\n    register(username, nickname, password).then((res) => {\r\n      if (res.ok !== 1) {\r\n        return setErrorMessage(res.message);\r\n      }\r\n      setAuthToken(res.token);\r\n      getMe().then((res) => {\r\n        if (res.ok !== 1) {\r\n          setAuthToken(null);\r\n          return setErrorMessage(\"系統處理異常，請請稍後再嘗試\");\r\n        }\r\n        setUser(res.data);\r\n        navigate(\"/\");\r\n      });\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Wrapper onSubmit={handleSubmit}>\r\n        <Item>\r\n          username:{\" \"}\r\n          <input\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </Item>\r\n        <Item>\r\n          nickname:{\" \"}\r\n          <input\r\n            value={nickname}\r\n            onChange={(e) => {\r\n              setNickname(e.target.value);\r\n            }}\r\n          />\r\n        </Item>\r\n        <Item>\r\n          password:{\" \"}\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n          />\r\n        </Item>\r\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n        <LoginButton>提交</LoginButton>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { setAuthToken } from \"../../utils\";\r\nconst HeaderContainer = styled.div`\r\n  height: 64px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.4);\r\n  padding: 0 32px;\r\n  box-sizing: border-box;\r\n`;\r\nconst Brand = styled.div`\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n`;\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 64px;\r\n`;\r\nconst Nav = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100px;\r\n  cursor: pointer;\r\n  color: black;\r\n  text-decoration: none;\r\n  box-sizing: border-box;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    background: rgba(0, 0, 0, 0.1);\r\n  `}\r\n`;\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  ${NavbarList} {\r\n    margin-left: 64px;\r\n  }\r\n`;\r\nexport default function Header() {\r\n  const location = useLocation();\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const handleLogout = () => {\r\n    setAuthToken(\"\");\r\n    setUser(null);\r\n  };\r\n  return (\r\n    <HeaderContainer>\r\n      <LeftContainer>\r\n        <Brand>我的第一個部落格</Brand>\r\n        <NavbarList>\r\n          <Nav $active={location.pathname === \"/\"} to=\"/\">\r\n            首頁\r\n          </Nav>\r\n          {user && (\r\n            <Nav $active={location.pathname === \"/new-post\"} to=\"/new-post\">\r\n              發布文章\r\n            </Nav>\r\n          )}\r\n          <Nav $active={location.pathname === \"/about\"} to=\"/about\">\r\n            關於我們\r\n          </Nav>\r\n        </NavbarList>\r\n      </LeftContainer>\r\n      <NavbarList>\r\n        {!user && (\r\n          <Nav $active={location.pathname === \"/login\"} to=\"/login\">\r\n            登入\r\n          </Nav>\r\n        )}\r\n        {!user && (\r\n          <Nav $active={location.pathname === \"/register\"} to=\"/register\">\r\n            註冊\r\n          </Nav>\r\n        )}\r\n        {user && (\r\n          <Nav onClick={handleLogout} to=\"/\">\r\n            登出\r\n          </Nav>\r\n        )}\r\n      </NavbarList>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport HomePage from \"../../pages/HomePage\";\nimport SinglePage from \"../../pages/SinglePage\";\nimport AddPost from \"../../pages/AddPost\";\nimport About from \"../../pages/About\";\nimport Register from \"../../pages/Register\";\nimport Header from \"../Header\";\nimport { AuthContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\";\nimport { getAuthToken } from \"../../utils\";\nimport { HashRouter as Router, Routes, Route } from \"react-router-dom\";\nconst Root = styled.div`\n  padding-top: 64px;\n`;\nfunction App() {\n  const [user, setUser] = useState(null); // 透過 user 有無東西，判斷登入狀態\n  const token = getAuthToken();\n  useEffect(() => {\n    if (token) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n        }\n      });\n    }\n  }, [token]);\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <Header />\n          <Routes>\n            <Route exact path=\"/\" element={<HomePage />} />\n            <Route path=\"/login\" element={<LoginPage />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/posts/:id\" element={<SinglePage />} />\n            <Route path=\"/about\" element={<About />} />\n            {user && <Route path=\"/new-post\" element={<AddPost />} />}\n          </Routes>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App.js\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}